(this["webpackJsonpmaply-test"]=this["webpackJsonpmaply-test"]||[]).push([[0],{248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=a(33),l=a(28),c=a(29),m=a(32),p=a(30),d=a(17),u=a(31),g=a(92),k=a(10),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).infoWindowRef=r.a.createRef(),a.contentElement=document.createElement("div"),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&(i.a.render(r.a.Children.only(this.props.children),this.contentElement),this.infoWindowRef.current.infowindow.setContent(this.contentElement))}},{key:"render",value:function(){return r.a.createElement(k.InfoWindow,Object.assign({ref:this.infoWindowRef},this.props))}}]),t}(r.a.Component),h=a(91),b=(a(112),function(e){var t=e.locations,a=(e.titles,Object(g.a)(e,["locations","titles"])),n=JSON.parse(localStorage.getItem("markers"))?JSON.parse(localStorage.getItem("markers")):[];return r.a.createElement("span",null,n.map((function(e,t){return r.a.createElement(k.Marker,Object.assign({onClick:window.mapContainer.onMarkerClick,ref:window.mapContainer.onMarkerMounted,key:t},a,{position:{lat:e.lat,lng:e.lng}}))})),t.map((function(e,t){return r.a.createElement(k.Marker,Object.assign({onClick:window.mapContainer.onMarkerClick,ref:window.mapContainer.onMarkerMounted,key:t},a,{position:{lat:e.lat(),lng:e.lng()}}))})))}),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onMarkerClick=function(e,t,n){a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.displayListMarkers=function(){document.getElementsByClassName("markerList")[0].classList.toggle("hide")},a.updateListMarkers=function(){var e=document.getElementsByClassName("markerList")[0];e.innerHTML="<p>List of Markers</p>";var t=JSON.parse(localStorage.getItem("markers"))?JSON.parse(localStorage.getItem("markers")):[];if(t.length>0)for(var n=0;n<t.length;n++)e.innerHTML+="<div class='marker'>\n        <span>".concat(t[n].title,"</span><br>\n        <span>lat: ").concat(t[n].lat.toFixed(4)," </span><br>\n        <span>lng: ").concat(t[n].lng.toFixed(4),"</span><br>\n        </div>");for(n=0;n<a.state.locations.length;n++){var r=t.findIndex((function(e){return e.lat===a.state.locations[n].lat()})),o=t.findIndex((function(e){return e.lng===a.state.locations[n].lng()})),i=-1!==r&&-1!==o&&r===o;t.length>0&&i||(e.innerHTML+="<div class='marker'>\n              <span>".concat(a.state.titles[n],"</span><br>\n              <span>lat: ").concat(a.state.locations[n].lat().toFixed(4),"</span><br>\n              <span>lng: ").concat(a.state.locations[n].lng().toFixed(4),"</span><br>\n              </div>"))}e.style.display="block"},a.saveMarkers=function(){for(var e=a.state.markerObjects,t=[],n=0;n<e.length;n++)t.push({title:e[n].name,lat:e[n].position.lat(),lng:e[n].position.lng()});localStorage.setItem("markers",JSON.stringify(t))},a.updateTitle=function(e){var t=document.getElementsByTagName("input")[0].value;a.markers.activeMarker.title=t,a.state.activeMarker.name=t,a.updateListMarkers()},a.onClose=function(e){"undefined"!==document.getElementById("form")&&null!==document.getElementById("form")&&document.getElementById("form").reset(),a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.exportMarkers=function(e){a.saveMarkers();var t=new Blob([localStorage.getItem("markers")],{type:"application/json"});console.log(localStorage.getItem("markers")),Object(h.saveAs)(t,"markers.json")},a.readFile=function(e){var t,n=new FileReader;n.addEventListener("load",(function(e){try{t=JSON.parse(e.target.result),console.log(t),localStorage.setItem("markers",JSON.stringify(t)),a.setState((function(e){return{showingInfoWindow:!1}})),a.updateListMarkers()}catch(n){console.error(n)}})),n.readAsText(e)},a.importMarkers=function(e){e.stopPropagation(),e.preventDefault(),a.readFile(e.target.files[0])},a.handleMapClick=function(e,t,n){var r=n.latLng;a.setState((function(e){return{locations:[].concat(Object(s.a)(e.locations),[r]),titles:[].concat(Object(s.a)(e.titles),["Marker"])}})),t.panTo(r),a.onClose(),a.updateListMarkers()},window.mapContainer=Object(d.a)(a),a.state={locations:[],titles:[],markerObjects:[],showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.initialLoad=!0,a.onMarkerMounted=function(e){a.setState((function(t){return{markerObjects:[].concat(Object(s.a)(t.markerObjects),[e.marker])}}))},a.handleMapClick=a.handleMapClick.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"map-container"},r.a.createElement(k.Map,{google:this.props.google,className:"map",zoom:this.props.zoom,initialCenter:this.props.center,onClick:this.handleMapClick,onTilesloaded:this.updateListMarkers},r.a.createElement(b,{locations:this.state.locations,titles:this.state.titles}),r.a.createElement(f,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("form",{id:"form"},r.a.createElement("label",null,"T\xedtulo:"),r.a.createElement("input",{type:"text",id:"title",size:"31",maxLength:"31",tabIndex:"1",autoComplete:"off",placeholder:"Adicione t\xedtulo"}),r.a.createElement("label",null,"Descri\xe7\xe3o:"),r.a.createElement("textarea",{id:"description",size:"31",tabIndex:"2",placeholder:"Adicione descri\xe7\xe3o"}),r.a.createElement("input",{type:"button",id:"inputButton",tabIndex:"3","data-id":this.state.activeMarker,onClick:this.updateTitle,value:"Submit"}))))),r.a.createElement("div",{className:"toolbar"},r.a.createElement("img",{className:"button",src:"/images/listButton.jpg",onClick:this.displayListMarkers}),r.a.createElement("img",{className:"button",src:"/images/saveButton.jpg",onClick:this.saveMarkers}),r.a.createElement("label",{className:"jsonInput",htmlFor:"jsonFile"},r.a.createElement("img",{className:"button",src:"/images/impButton.jpg"})),r.a.createElement("input",{type:"file",id:"jsonFile",name:"jsonFile",onChange:this.importMarkers}),r.a.createElement("img",{className:"button",src:"/images/expButton.jpg",onClick:this.exportMarkers})),r.a.createElement("div",{className:"markerList"},r.a.createElement("p",null,"List of Markers"),r.a.createElement("div",{className:"list"})))}}]),t}(r.a.Component),M=Object(k.GoogleApiWrapper)({apiKey:"",libraries:[]})(v);a(248);Object(o.render)(r.a.createElement(M,{center:{lat:-23.533773,lng:-46.62529},zoom:12}),document.getElementById("root"))},93:function(e,t,a){e.exports=a(249)}},[[93,1,2]]]);
//# sourceMappingURL=main.16240253.chunk.js.map